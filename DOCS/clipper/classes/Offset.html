<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>clipper</h1>

<ul>
  <li><a href="../api.html">Index</a></li>
</ul>



<h2>Methods</h2>
<ul class="nowrap">
    <li><a href="#Offset:AddPath">Offset:AddPath (P, join_type, end_type)</a></li>
    <li><a href="#Offset:AddPaths">Offset:AddPaths (P, join_type, end_type)</a></li>
    <li><a href="#Offset:Clear">Offset:Clear ()</a></li>
    <li><a href="#Offset:Execute">Offset:Execute (solution, delta)</a></li>
    <li><a href="#Offset:Execute">Offset:Execute (delta)</a></li>
    <li><a href="#Offset:GetArcTolerance">Offset:GetArcTolerance ()</a></li>
    <li><a href="#Offset:GetMiterLimit">Offset:GetMiterLimit ()</a></li>
    <li><a href="#Offset:SetArcTolerance">Offset:SetArcTolerance (tolerance)</a></li>
    <li><a href="#Offset:SetMiterLimit">Offset:SetMiterLimit (limit)</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><strong>Offset</strong></li>
  <li><a href="../classes/Path.html">Path</a></li>
  <li><a href="../classes/Paths.html">Paths</a></li>
  <li><a href="../classes/PolyNode.html">PolyNode</a></li>
  <li><a href="../classes/PolyTree.html">PolyTree</a></li>
  <li><a href="../classes/Clipper.html">Clipper</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/core.html">core</a></li>
</ul>

</div>

<div id="content">

<h1>Class <code>Offset</code></h1>
<p><a href="http://www.angusj.com/delphi/clipper/documentation/Docs/Units/ClipperLib/Classes/ClipperOffset/_Body.htm">An encapsulation</a>
 of the process of offsetting (inflating/deflating) both open and closed paths using a number of different join types and end types.</p>
<p> (Follow the first link for a nice visual example.)</p>

<p> <strong>Preconditions for offsetting</strong>:</p>

<ol>
    <li>The orientations of closed paths must be consistent such that outer polygons share the same orientation, and any holes have the
    opposite orientation (i.e. non-zero filling). Open paths must be oriented with closed outer polygons.</li>
    <li>Polygons must not self-intersect. </li>
</ol>

<p> <strong>Limitations</strong>:</p>

<p> When offsetting, small artefacts may appear where polygons overlap. To avoid these artefacts, offset overlapping polygons separately.</p>



    <h2 class="section-header "><a name="Methods"></a>Methods</h2>

    <dl class="function">
    <dt>
    <a name = "Offset:AddPath"></a>
    <strong>Offset:AddPath (P, join_type, end_type)</strong>
    </dt>
    <dd>
    DOCME


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">P</span>
            <span class="types"><a class="type" href="../classes/Path.html#">Path</a></span>



        </li>
        <li><span class="parameter">join_type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         One of <strong>"Square"</strong>, <strong>"Round"</strong>, or <strong>"Miter"</strong>.</p>

<p> See <a href="http://www.angusj.com/delphi/clipper/documentation/Docs/Units/ClipperLib/Types/JoinType.htm">here</a> for some nice visual examples.)
        </li>
        <li><span class="parameter">end_type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         One of:</p>

<ul>
    <li><strong>"ClosedPolygon"</strong>: Ends are joined according to <em>join_type</em> and the path filled as a polygon.</li>
    <li><strong>"ClosedLine"</strong>: Ends are joined according to <em>join_type</em> and the path filled as a polyline.</li>
    <li><strong>"OpenButt"</strong>: Ends are squared off with no extension.</li>
    <li><strong>"OpenSquare"</strong>: Ends are <em>squared</em> off and extended <strong>delta</strong> units.</li>
    <li><strong>"OpenRound"</strong>: Ends are <em>rounded</em> off and extended <strong>delta</strong> units.</li>
</ul>

<p> See <a href="http://www.angusj.com/delphi/clipper/documentation/Docs/Units/ClipperLib/Types/EndType.htm">here</a> for some nice visual examples.)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Offset:AddPaths"></a>
    <strong>Offset:AddPaths (P, join_type, end_type)</strong>
    </dt>
    <dd>
    DOCME


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">P</span>
            <span class="types"><a class="type" href="../classes/Paths.html#">Paths</a></span>



        </li>
        <li><span class="parameter">join_type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         As per <a href="../classes/Offset.html#Offset:AddPath">Offset:AddPath</a>.
        </li>
        <li><span class="parameter">end_type</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         As per <a href="../classes/Offset.html#Offset:AddPath">Offset:AddPath</a>.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Offset:Clear"></a>
    <strong>Offset:Clear ()</strong>
    </dt>
    <dd>
    Clear all paths, allowing new ones to be assigned.







</dd>
    <dt>
    <a name = "Offset:Execute"></a>
    <strong>Offset:Execute (solution, delta)</strong>
    </dt>
    <dd>
    Apply the offset operation to the currently added paths. </p>

<p> This method can be called multiple times, offsetting the same paths by different amounts (i.e. using different deltas).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">solution</span>
            <span class="types"><a class="type" href="../classes/PolyTree.html#">PolyTree</a> or <a class="type" href="../classes/Paths.html#">Paths</a></span>
         Structure that will receive the result of the operation.
        </li>
        <li><span class="parameter">delta</span>
            <span class="types"><span class="type">number</span></span>
         Amount to which the supplied paths will be offset &mdash; negative delta values to
 shrink polygons and positive delta to expand them.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/PolyTree.html#">PolyTree</a> or <a class="type" href="../classes/Paths.html#">Paths</a></span>
        <em>solution</em>.
    </ol>




</dd>
    <dt>
    <a name = "Offset:Execute"></a>
    <strong>Offset:Execute (delta)</strong>
    </dt>
    <dd>
    Alternative signature of <strong>Execute</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">delta</span>
            <span class="types"><span class="type">number</span></span>
         As before.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/Paths.html#">Paths</a></span>
        Result of the operation, via a new object.
    </ol>




</dd>
    <dt>
    <a name = "Offset:GetArcTolerance"></a>
    <strong>Offset:GetArcTolerance ()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Current tolerance.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../classes/Offset.html#Offset:SetArcTolerance">Offset:SetArcTolerance</a>
    </ul>


</dd>
    <dt>
    <a name = "Offset:GetMiterLimit"></a>
    <strong>Offset:GetMiterLimit ()</strong>
    </dt>
    <dd>






    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">number</span></span>
        Current limit.
    </ol>


    <h3>See also:</h3>
    <ul>
         <a href="../classes/Offset.html#Offset:SetMiterLimit">Offset:SetMiterLimit</a>
    </ul>


</dd>
    <dt>
    <a name = "Offset:SetArcTolerance"></a>
    <strong>Offset:SetArcTolerance (tolerance)</strong>
    </dt>
    <dd>
    Since flattened paths can never perfectly represent arcs, this field / property specifies a maximum
 acceptable imprecision ('tolerance') when arcs are approximated in an offsetting operation.  Smaller
 values will increase 'smoothness' up to a point though at a cost of performance and in creating more
 vertices to construct the arc.</p>

<p> The default ArcTolerance is 0.25 units. This means that the maximum distance the flattened path will
 deviate from the 'true' arc will be no more than 0.25 units (before rounding).</p>

<p> <em>Reducing tolerances below 0.25 will <strong>not</strong> improve smoothness since vertex coordinates will still</em>
 <em>be rounded to integer values.</em> The only way to achieve sub-integer precision is through coordinate
 scaling before and after offsetting (see example below).</p>

<p> <em>It's important to make ArcTolerance a sensible fraction of the offset delta (arc radius).</em> Large
 tolerances relative to the offset delta will produce poor arc approximations but, just as importantly,
 very small tolerances will substantially slow offsetting performance while providing unnecessary
 degrees of precision. This is most likely to be an issue when offsetting polygons whose coordinates
 have been scaled to preserve floating point precision.</p>

<p> <strong>Example</strong>: Imagine a set of polygons (defined in floating point coordinates) that is to be offset
 by 10 units using round joins, and the solution is to retain floating point precision up to at least
 6 decimal places.</p>

<p> To preserve this degree of floating point precision, and given that <a href="../classes/Clipper.html#">Clipper</a> and <strong>Offset</strong> both
 operate on integer coordinates, the polygon coordinates will be scaled up by <code>10^8</code> (and rounded to
 integers) prior to offsetting. Both offset delta and ArcTolerance will also need to be scaled by
 this same factor. <em>If ArcTolerance was left unscaled at the default 0.25 units, every arc in the</em>
 <em>solution would contain a fraction of 44 THOUSAND vertices</em> while the final arc imprecision would
 be <code>0.25 × 10^-8</code> units (i.e. once scaling was reversed). However, if 0.1 units was an acceptable
 imprecision in the final <em>unscaled</em> solution, then ArcTolerance should be set to 0.1 × scaling_factor
 (<code>0.1 × 10^8</code>). Now if scaling is applied equally to both ArcTolerance and to Delta Offset, then
 in this example the number of vertices (steps) defining each arc would be a fraction of 23.</p>

<p> The formula for the number of steps in a full circular arc is: <code>Pi / acos(1 - arc_tolerance / abs(delta))</code></p>

<p> The arc tolerance is relevant only when <em>join_type</em> is <strong>"Round"</strong> or <em>end_type</em> is <strong>"OpenRound"</strong>


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">tolerance</span>
            <span class="types"><span class="type">number</span></span>
         New tolerance.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../classes/Offset.html#Offset:GetArcTolerance">Offset:GetArcTolerance</a>
    </ul>


</dd>
    <dt>
    <a name = "Offset:SetMiterLimit"></a>
    <strong>Offset:SetMiterLimit (limit)</strong>
    </dt>
    <dd>
    This property sets the maximum distance in <em>multiples of delta</em> that vertices can be offset from their
 original positions before squaring is applied.  (Squaring truncates a miter by 'cutting it off' at 1 × delta
 distance from the original vertex.)</p>

<p> <strong>The default value for MiterLimit is 2</strong> (i.e. twice delta). This is also the smallest MiterLimit that's
 allowed. If mitering was unrestricted (ie without any squaring), then offsets at very acute angles would
 generate unacceptably long 'spikes'. (See <a href="http://www.angusj.com/delphi/clipper/documentation/Docs/Units/ClipperLib/Classes/ClipperOffset/Properties/MiterLimit.htm">here</a>
 for an example of such a spike.)</p>

<p> The miter limit is relevant only when <em>join_type</em> is <strong>"Miter"</strong>, cf. <a href="../classes/Offset.html#Offset:AddPath">Offset:AddPath</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">limit</span>
            <span class="types"><span class="type">number</span></span>
         New limit, &ge; 2.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../classes/Offset.html#Offset:GetMiterLimit">Offset:GetMiterLimit</a>
    </ul>


</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-06-13 18:37:04 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
