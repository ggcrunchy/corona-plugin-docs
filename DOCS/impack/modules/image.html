<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>impack</h1>

<ul>
  <li><a href="../api.html">Index</a></li>
</ul>



<h2>Functions</h2>
<ul class="nowrap">
    <li><a href="#hdr_to_ldr_gamma">hdr_to_ldr_gamma (gamma)</a></li>
    <li><a href="#hdr_to_ldr_scale">hdr_to_ldr_scale (scale)</a></li>
    <li><a href="#info">info (filename[, baseDir=system.ResourceDirectory])</a></li>
    <li><a href="#info">info (params)</a></li>
    <li><a href="#info_from_memory">info_from_memory (image)</a></li>
    <li><a href="#is_hdr">is_hdr (filename[, baseDir=system.ResourceDirectory])</a></li>
    <li><a href="#is_hdr">is_hdr (params)</a></li>
    <li><a href="#is_hdr_from_memory">is_hdr_from_memory (image)</a></li>
    <li><a href="#ldr_to_hdr_gamma">ldr_to_hdr_gamma (gamma)</a></li>
    <li><a href="#ldr_to_hdr_scale">ldr_to_hdr_scale (scale)</a></li>
    <li><a href="#load">load (filename[, baseDir=system.ResourceDirectory], opts)</a></li>
    <li><a href="#load_from_memory">load_from_memory (image, opts)</a></li>
    <li><a href="#loadf">loadf (filename[, baseDir=system.ResourceDirectory], opts)</a></li>
    <li><a href="#loadf_from_memory">loadf_from_memory (image, opts)</a></li>
    <li><a href="#load_image_object">load_image_object (name[, baseDir=system.ResourceDirectory])</a></li>
    <li><a href="#load_image_object">load_image_object (params)</a></li>
    <li><a href="#load_image_object_from_memory">load_image_object_from_memory (image)</a></li>
    <li><a href="#new_color_hsla">new_color_hsla ([h=0[, s=0[, l=0[, a=1]]]])</a></li>
    <li><a href="#new_color_rgba">new_color_rgba ([r=0[, g=0[, b=0[, a=0]]]])</a></li>
    <li><a href="#new_image_object">new_image_object (w, h, d, filler)</a></li>
    <li><a href="#xload">xload (filename[, baseDir=system.ResourceDirectory])</a></li>
    <li><a href="#xload">xload (params)</a></li>
    <li><a href="#xload_from_memory">xload_from_memory (image)</a></li>
</ul>
<h2>Tables</h2>
<ul class="nowrap">
    <li><a href="#GifFrame">GifFrame</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/grayscale.html">grayscale</a></li>
  <li><strong>image</strong></li>
  <li><a href="../modules/ops.html">ops</a></li>
  <li><a href="../modules/write.html">write</a></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/SpotColor.html">SpotColor</a></li>
  <li><a href="../classes/SpotImage.html">SpotImage</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>image</code></h1>
<p>Utilities for loading images.</p>
<p>


<p> The (single-frame) image readers come from Sean Barrett's <a href="https://github.com/nothings/stb">stb</a>.</p>

<p> Animated GIF support builds upon STB, using urraka's <a href="https://gist.githubusercontent.com/urraka/685d9a6340b26b830d49/raw/91eee495eeefb2d60abc73a1a9d83949fe6a4882/stb.c">xload</a>.</p>

<p> The <strong>Bytes</strong> type&mdash;specified below&mdash;may be any object that implements <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/ByteReader/policy.html">ByteReader</a>,
 including strings.</p>

<p> Functions that begin with (<strong>WIP</strong>) describe work in progress. These features are not considered stable, but give a reasonable idea of what to expect.</p>

<hr/>

<p> <strong>(The comments that follow were adapted from <a href="https://raw.githubusercontent.com/nothings/stb/master/stb_image.h">stb_image.h</a>.)</strong></p>

<p> <strong>QUICK NOTES</strong>:</p>

<p> Primarily of interest to game developers and other people who can
 avoid problematic images and only need the trivial interface</p>

<p> JPEG baseline &amp; progressive (12 bpc/arithmetic not supported, same as stock IJG lib)</p>

<p> PNG 1/2/4/8-bit-per-channel (16 bpc not supported)</p>

<p> TGA (not sure what subset, if a subset)</p>

<p> BMP (non-1bpp, non-RLE)</p>

<p> PSD (composited view only, no extra channels, 8/16 bit-per-channel)</p>

<p> GIF (<em>comp</em> always reports as 4-channel)</p>

<p> HDR (radiance rgbE format)</p>

<p> PIC (Softimage PIC)</p>

<p> PNM (PPM and PGM binary only)</p>

<p> Animated GIF (via <a href="../modules/image.html#xload">xload</a>)</p>

<ul>
    <li>decode from memory</li>
    <li>SIMD acceleration on x86/x64 (SSE2) and ARM (NEON)</li>
</ul>

<p> <strong>DOCUMENTATION</strong></p>

<p> Limitations:</p>

<ul>
    <li>no 16-bit-per-channel PNG</li>
    <li>no 12-bit-per-channel JPEG</li>
    <li>no JPEGs with arithmetic coding</li>
    <li>no 1-bit BMP</li>
    <li>GIF always returns comp = 4</li>
</ul>

<p> Basic usage (see HDR discussion below for HDR usage):</p>

<pre>
<span class="keyword">local</span> data, x, y, comp = impack.image.<span class="global">load</span>(filename, <span class="number">0</span>)
<span class="comment">-- ... process data if not nil ...
</span><span class="comment">-- ... x = width, y = height, comp = # 8-bit components per pixel ...
</span><span class="comment">-- ... replace '0' with '1'..'4' to force that many components per pixel
</span><span class="comment">-- ... but comp will always be the number that it would have been if you said 0
</span>data = <span class="keyword">nil</span> <span class="comment">-- or allow to go out of scope</span>
</pre>

<p> Standard parameters and results:</p>

<pre>
x        <span class="comment">-- image width in pixels
</span>y        <span class="comment">-- image height in pixels
</span>comp     <span class="comment">-- # of image components in image file
</span>req_comp <span class="comment">-- if non-zero, # of image components requested in result</span>
</pre>

<p> The return value from an image loader is a string containing
 the pixel data, or <strong>nil</strong> on an allocation failure or if the image is
 corrupt or invalid. The pixel data consists of <em>y</em> scanlines of <em>x</em> pixels,
 with each pixel consisting of N interleaved 8-bit components; the first
 pixel pointed to is top-left-most in the image. There is no padding between
 image scanlines or between pixels, regardless of format. The number of
 components N is <em>req_comp</em> if <em>req_comp</em> is non-zero (and present), or
 <em>comp</em> otherwise. If <em>req_comp</em> is non-zero, <em>comp</em> has the number of
 components that <em>would</em> have been output otherwise. E.g. if you set <em>req_comp</em>
 to 4, you will always get RGBA output, but you can check <em>comp</em> to see if it's
 trivially opaque because e.g. there were only 3 channels in the source image.</p>

<p> An output image with N components has the following components interleaved
 in this order in each pixel:</p>


<pre>
N = #comp   components
  <span class="number">1</span>           grey
  <span class="number">2</span>           grey, alpha
  <span class="number">3</span>           red, green, blue
  <span class="number">4</span>           red, green, blue, alpha
</pre>

<p> If image loading fails for any reason, the return value will be <strong>nil</strong>,
 along with an extremely brief explanation of why the load failed.</p>

<p> Paletted PNG, BMP, GIF, and PIC images are automatically depalettized.</p>

<hr/>

<p> <strong>Philosophy</strong>:</p>

<p> stb libraries are designed with the following priorities:</p>


<pre>
<span class="number">1.</span> easy to use
<span class="number">2.</span> easy to maintain
<span class="number">3.</span> good performance
</pre>

<p> Sometimes I let "good performance" creep up in priority over "easy to maintain",
 and for best performance I may provide less-easy-to-use APIs that give higher
 performance, in addition to the easy to use ones. Nevertheless, it's important
 to keep in mind that from the standpoint of you, a client of this library,
 all you care about is #1 and #3, and stb libraries do not emphasize #3 above all.</p>

<p> Some secondary priorities arise directly from the first two, some of which
 make more explicit reasons why performance can't be emphasized.</p>

<ul>
    <li>Portable ("ease of use")</li>
    <li>Small footprint ("easy to maintain")</li>
    <li>No dependencies ("ease of use")</li>
</ul>

<hr/>

<p> <strong>SIMD support</strong>:</p>

<p> The JPEG decoder will try to automatically use SIMD kernels on x86 when
 supported by the compiler. SSE2 will automatically be used when available
 based on a run-time test; if not, the generic C versions are used as a
 fall-back. Likewise, on ARM targets, NEON will be used when available.</p>

<hr/>

<p> <strong>HDR image support</strong>:</p>

<p> stb_image now supports loading HDR images in general, and currently
 the Radiance .HDR file format, although the support is provided
 generically. You can still load any file through the existing interface;
 if you attempt to load an HDR file, it will be automatically remapped to
 LDR, assuming gamma 2.2 and an arbitrary scale factor defaulting to 1;
 both of these constants can be reconfigured through this interface:</p>


<pre>
impack.image.hdr_to_ldr_gamma(<span class="number">2.2</span>)
impack.image.hdr_to_ldr_scale(<span class="number">1.0</span>)
</pre>

<p> (Note, do not use <em>inverse</em> constants; the appropriate inversion will be
 applied internally.)</p>

<p> Additionally, there is a new, parallel interface for loading files as
 (linear) floats to preserve the full dynamic range:</p>


<pre>
<span class="keyword">local</span> data, x, y, n = impack.image.loadf(filename)
</pre>

<p> If you load LDR images through this interface, those images will
 be promoted to floating point values, run through the inverse of
 constants corresponding to the above:</p>


<pre>
impack.image.ldr_to_hdr_scale(<span class="number">1.0</span>)
impack.image.ldr_to_hdr_gamma(<span class="number">2.2</span>)
</pre>

<p> Finally, given a filename or memory block containing image data, you
 can query for the "most appropriate" interface to use (that is, whether
 the image is HDR or not), using:</p>


<pre>
impack.image.is_hdr(filename)
</pre>

<hr/>

<p> <strong>iPhone PNG support</strong>:</p>

<p> By default we convert iPhone-formatted PNGs back to RGB, even though
 they are internally encoded differently.</p>

<hr/>

<p> <strong>From stb's project page:</strong></p>

<p> This software is dual-licensed to the public domain and under the following
 license: you are granted a perpetual, irrevocable license to copy, modify,
 publish, and distribute this file as you see fit.</p>

<hr/>
</p>



    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "hdr_to_ldr_gamma"></a>
    <strong>hdr_to_ldr_gamma (gamma)</strong>
    </dt>
    <dd>
    Assign the (global) high &rarr; low-dynamic-range gamma mapping.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gamma</span>
            <span class="types"><span class="type">number</span></span>
         Gamma mapping.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/image.html#ldr_to_hdr_gamma">ldr_to_hdr_gamma</a>
    </ul>


</dd>
    <dt>
    <a name = "hdr_to_ldr_scale"></a>
    <strong>hdr_to_ldr_scale (scale)</strong>
    </dt>
    <dd>
    Assign the (global) high &rarr; low-dynamic-range scale factor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">scale</span>
            <span class="types"><span class="type">number</span></span>
         Scale factor.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/image.html#ldr_to_hdr_scale">ldr_to_hdr_scale</a>
    </ul>


</dd>
    <dt>
    <a name = "info"></a>
    <strong>info (filename[, baseDir=system.ResourceDirectory])</strong>
    </dt>
    <dd>
    Get image dimensions and component count without fully decoding.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to query.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        <strong>true</strong>, indicating success.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>

        <strong>false</strong>, indicating failure.
    </ol>




</dd>
    <dt>
    <a name = "info"></a>
    <strong>info (params)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Alternate overload of <strong>info</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Info parameters. This must include <strong>filename</strong> and may have a <strong>baseDir</strong> field, with meanings as in
 the other overload.</p>

<p> If an <strong>is_absolute</strong> is present and true, <em>filename</em> is interpreted as an absolute path (any <em>baseDir</em> is ignored). On
 non-desktop platforms, this raises an error.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">As</span></span>
        per the other overload.
    </ol>




</dd>
    <dt>
    <a name = "info_from_memory"></a>
    <strong>info_from_memory (image)</strong>
    </dt>
    <dd>
    Memory-based variant of <a href="../modules/image.html#info">info</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        <strong>true</strong>, indicating success.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>

        <strong>false</strong>, indicating failure.
    </ol>




</dd>
    <dt>
    <a name = "is_hdr"></a>
    <strong>is_hdr (filename[, baseDir=system.ResourceDirectory])</strong>
    </dt>
    <dd>
    Check whether a file contains an HDR image.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to query.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        Image contents are HDR data?
    </ol>




</dd>
    <dt>
    <a name = "is_hdr"></a>
    <strong>is_hdr (params)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Alternate overload of <strong>is_hdr</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Query parameters. See the table overload of <a href="../modules/image.html#info">info</a> for details.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        As per the other overload.
    </ol>




</dd>
    <dt>
    <a name = "is_hdr_from_memory"></a>
    <strong>is_hdr_from_memory (image)</strong>
    </dt>
    <dd>
    Memory-based variant of <a href="../modules/image.html#is_hdr">is_hdr</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">boolean</span></span>
        Image contents are HDR data?
    </ol>




</dd>
    <dt>
    <a name = "ldr_to_hdr_gamma"></a>
    <strong>ldr_to_hdr_gamma (gamma)</strong>
    </dt>
    <dd>
    Assign the (global) low &rarr; high-dynamic-range gamma mapping.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gamma</span>
            <span class="types"><span class="type">number</span></span>
         Gamma mapping.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/image.html#hdr_to_ldr_gamma">hdr_to_ldr_gamma</a>
    </ul>


</dd>
    <dt>
    <a name = "ldr_to_hdr_scale"></a>
    <strong>ldr_to_hdr_scale (scale)</strong>
    </dt>
    <dd>
    Assign the (global) low &rarr; high-dynamic-range scale factor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">scale</span>
            <span class="types"><span class="type">number</span></span>
         Scale factor.
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="../modules/image.html#hdr_to_ldr_scale">hdr_to_ldr_scale</a>
    </ul>


</dd>
    <dt>
    <a name = "load"></a>
    <strong>load (filename[, baseDir=system.ResourceDirectory], opts)</strong>
    </dt>
    <dd>
    Loads an image into one-byte-per-component form.  Refer to the summary above for further details.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to load.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Load options, which include:</p>

<ul>
    <li><strong>as_userdata</strong> Affects how the image data is returned.</li>
    <li><strong>req_comp</strong> When present (and non-0), it should be an integer between 1 and 4, the loaded data
    will have as many components (adding or removing channels as needed).</li>
    <li><strong>is_absolute</strong>: (<strong>WIP</strong>) If true, <em>filename</em> is interpreted as being an absolute path (any <em>baseDir</em> is ignored). On
    non-desktop platforms, this raises an error.</li>
    <li>(Support for <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/MemoryBlob/api.html">blobs</a>
    is planned and would be exposed via <em>opts</em>.)</li>
</ul>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">Bytes</span></span>
         Image data.</p>

<p> If <em>opts.as_userdata</em> was true, the data is returned as a userdata that implements <strong>ByteReader</strong>,
 rather than being converted to a more friendly string. Under some circumstances, this might be worth
 doing for performance reasons.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of (actual, not requested) components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "load_from_memory"></a>
    <strong>load_from_memory (image, opts)</strong>
    </dt>
    <dd>
    Memory-based variant of <a href="../modules/image.html#load">load</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/image.html#load">load</a>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">Bytes</span></span>
        Image data, as per <a href="../modules/image.html#load">load</a>.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of (actual, not requested) components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "loadf"></a>
    <strong>loadf (filename[, baseDir=system.ResourceDirectory], opts)</strong>
    </dt>
    <dd>
    Loads an image into floating-point form.  Refer to the summary above for further details.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to load.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/image.html#load">load</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">Bytes</span></span>
        Image data, as per <a href="../modules/image.html#load">load</a>.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of (actual, not requested) components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "loadf_from_memory"></a>
    <strong>loadf_from_memory (image, opts)</strong>
    </dt>
    <dd>
    Memory-based variant of <a href="../modules/image.html#loadf">loadf</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/image.html#loadf">loadf</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">Bytes</span></span>
        data Image data, as per <a href="../modules/image.html#loadf">loadf</a>.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width of image data...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Number of (actual, not requested) components per pixel.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "load_image_object"></a>
    <strong>load_image_object (name[, baseDir=system.ResourceDirectory])</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Load a Spot image from a file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">name</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to load.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/SpotImage.html#">SpotImage</a></span>
        On success, the new Spot image, cf. <a href="../classes/SpotImage.html#">SpotImage</a>.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating an error.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "load_image_object"></a>
    <strong>load_image_object (params)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Alternate overload of <strong>load_image_object</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Load parameters. See the table overload of <a href="../modules/image.html#info">info</a> for details.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        As per the other overload.
    </ol>




</dd>
    <dt>
    <a name = "load_image_object_from_memory"></a>
    <strong>load_image_object_from_memory (image)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Load a Spot image from memory.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/SpotImage.html#">SpotImage</a></span>
        On success, the new Spot image, cf. <a href="../classes/SpotImage.html#">SpotImage</a>.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating an error.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "new_color_hsla"></a>
    <strong>new_color_hsla ([h=0[, s=0[, l=0[, a=1]]]])</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Create a new Spot color in HSLA form.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">number</span></span>
         Hue component, typically between 0 and, inclusive...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">s</span>
            <span class="types"><span class="type">number</span></span>
         ...saturation component, ditto...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">l</span>
            <span class="types"><span class="type">number</span></span>
         ...lightness, ditto...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         ...and alpha, ditto.
         (<em>default</em> 1)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/SpotColor.html#">SpotColor</a></span>
        On success, the new Spot color, cf. <a href="../classes/SpotColor.html#">SpotColor</a>.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating an error.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "new_color_rgba"></a>
    <strong>new_color_rgba ([r=0[, g=0[, b=0[, a=0]]]])</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Create a new Spot color in RGBA form.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">r</span>
            <span class="types"><span class="type">number</span></span>
         Red component, between 0 and 255, inclusive...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">g</span>
            <span class="types"><span class="type">number</span></span>
         ...green component, ditto...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">b</span>
            <span class="types"><span class="type">number</span></span>
         ...blue, ditto...
         (<em>default</em> 0)
        </li>
        <li><span class="parameter">a</span>
            <span class="types"><span class="type">number</span></span>
         ...and alpha, ditto.
         (<em>default</em> 0)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/SpotColor.html#">SpotColor</a></span>
        On success, the new Spot color, cf. <a href="../classes/SpotColor.html#">SpotColor</a>.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating an error.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "new_image_object"></a>
    <strong>new_image_object (w, h, d, filler)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Create a new empty Spot image.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Image width...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...height...
        </li>
        <li><span class="parameter">d</span>
            <span class="types"><span class="type">uint</span></span>
         ...and depth.
        </li>
        <li><span class="parameter">filler</span>
            <span class="types">optional <a class="type" href="../classes/SpotColor.html#">SpotColor</a></span>
         Optional initial fill color.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="../classes/SpotImage.html#">SpotImage</a></span>
        On success, the new Spot image, cf. <a href="../classes/SpotImage.html#">SpotImage</a>.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating an error.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "xload"></a>
    <strong>xload (filename[, baseDir=system.ResourceDirectory])</strong>
    </dt>
    <dd>
    Given a GIF, loads its frames (image data, delay to next frame) into an array.  All frames are loaded
 as RGBA with the same width and height.</p>

<p> A single image buffer (with no delay info) is returned for non-GIF files and for GIFs that have one frame.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file to load.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to search, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.ResourceDirectory)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="../modules/image.html#GifFrame">{GifFrame,...}</a></span>
        frames, where a <strong>frame</strong> is a table with two keys, <strong>image</strong> containing
 a string and <strong>delay</strong> a uint.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Width common to all frames...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Image data, in the case there is only one frame or <em>filename</em> was not a GIF.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        Image width...</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        ...and height.</li>
        <li>
           <span class="types"><span class="type">uint</span></span>
        bpp Always 4.</li>
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, indicating failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "xload"></a>
    <strong>xload (params)</strong>
    </dt>
    <dd>
    (<strong>WIP</strong>) Alternate overload of <strong>xload</strong>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Load parameters. See the table overload of <a href="../modules/image.html#info">info</a> for details.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        As per the other overload.
    </ol>




</dd>
    <dt>
    <a name = "xload_from_memory"></a>
    <strong>xload_from_memory (image)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/image.html#xload">xload</a> that loads from memory.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Undecoded image contents
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        As per <a href="../modules/image.html#xload">xload</a>.
    </ol>




</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "GifFrame"></a>
    <strong>GifFrame</strong>
    </dt>
    <dd>
    Represents a single frame in a GIF animation.


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">image</span>
            <span class="types"><span class="type">Bytes</span></span>
         Frame data.
        </li>
        <li><span class="parameter">delay</span>
            <span class="types"><span class="type">uint</span></span>
         Delay, in milliseconds, for frame.
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-07-24 18:04:07 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
