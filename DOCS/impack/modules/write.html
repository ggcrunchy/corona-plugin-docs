<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Documentation</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>impack</h1>

<ul>
  <li><a href="../api.html">Index</a></li>
</ul>



<h2>Functions</h2>
<ul class="nowrap">
    <li><a href="#bmp">bmp (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</a></li>
    <li><a href="#bmp_to_memory">bmp_to_memory (w, h, comp, data, opts)</a></li>
    <li><a href="#gif">gif (filename[, baseDir=system.DocumentsDirectory], w, h, frames, opts)</a></li>
    <li><a href="#gif_to_memory">gif_to_memory (w, h, frames, opts)</a></li>
    <li><a href="#hdr">hdr (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</a></li>
    <li><a href="#hdr_to_memory">hdr_to_memory (w, h, comp, data, opts)</a></li>
    <li><a href="#mpeg">mpeg (filename[, baseDir=system.DocumentsDirectory], w, h, frames, opts)</a></li>
    <li><a href="#mpeg_to_memory">mpeg_to_memory (w, h, frames, opts)</a></li>
    <li><a href="#png">png (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</a></li>
    <li><a href="#png_to_memory">png_to_memory (w, h, comp, data, opts)</a></li>
    <li><a href="#tga">tga (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</a></li>
    <li><a href="#tga_to_memory">tga_to_memory (w, h, comp, data, opts)</a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/grayscale.html">grayscale</a></li>
  <li><a href="../modules/image.html">image</a></li>
  <li><a href="../modules/ops.html">ops</a></li>
  <li><strong>write</strong></li>
</ul>
<h2>Classes</h2>
<ul class="nowrap">
  <li><a href="../classes/SpotColor.html">SpotColor</a></li>
  <li><a href="../classes/SpotImage.html">SpotImage</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>write</code></h1>
<p>Utilities for writing images to files and memory.</p>
<p>


<p> The (single-frame) image writers come from Sean Barrett's <a href="https://github.com/nothings/stb">stb</a>.</p>

<p> Jon Olick's <a href="http://www.jonolick.com/home/gif-writer">GIF</a> and <a href="http://www.jonolick.com/home/mpeg-video-writer">MPEG</a>
 writers are used to save GIFs and MPEGs, respectively.</p>

<p> The <strong>Bytes</strong> type&mdash;specified below&mdash;may be any object that implements <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/ByteReader/policy.html">ByteReader</a>,
 including strings.</p>

<hr/>

<p> <strong>(The comments that follow were adapted from <a href="https://raw.githubusercontent.com/nothings/stb/master/stb_image_write.h">stb_image_write.h</a>.)</strong></p>

<p> This is a library for writing images to files or memory.</p>

<p> The PNG output is not optimal; it is 20-50% larger than the file
 written by a decent optimizing implementation. This library is designed
 for source code compactness and simplicity, not optimal image file size
 or run-time performance.</p>

<p> <strong>USAGE:</strong></p>

<p> There are four functions for single-frame images, one per file format:</p>


<pre>
ok = impack.write.bmp(filename, w, h, comp, data)
ok = impack.write.hdr(filename, w, h, comp, data)
ok = impack.write.png(filename, w, h, comp, data, opts)
ok = impack.write.tga(filename, w, h, comp, data)
</pre>

<p> Each function returns <strong>true</strong> to indicate success and <strong>false</strong> for failure.</p>

<p> (This module also provides <a href="../modules/write.html#gif">gif</a> and <a href="../modules/write.html#mpeg">mpeg</a> writers.)</p>

<p> The functions create an image file defined by the parameters. The image
 is a rectangle of pixels stored from left-to-right, top-to-bottom.
 Each pixel contains <em>comp</em> channels of data stored interleaved with 8-bits
 per channel, in the following order:</p>


<pre>
<span class="number">1</span> = Y
<span class="number">2</span> = YA
<span class="number">3</span> = RGB
<span class="number">4</span> = RGBA
</pre>

<p> (<strong>Y</strong> is monochrome color.) The rectangle is <em>w</em> pixels wide and <em>h</em> pixels tall.
 <em>data</em> points to the first byte of the top-left-most pixel.
 For PNG, <em>opts.stride_in_bytes</em> is the distance in bytes from the first byte of
 a row of pixels to the first byte of the next row of pixels.</p>

<p> PNG creates output files with the same number of components as the input.
 The BMP format expands <strong>Y</strong> to <strong>RGB</strong> in the file format and does not
 output alpha.</p>

<p> PNG supports writing rectangles of data even when the bytes storing rows of
 data are not consecutive in memory (e.g. sub-rectangles of a larger image),
 by supplying the stride between the beginning of adjacent rows. The other
 formats do not. (Thus you cannot write a native-format BMP through the BMP
 writer, both because it is in BGR order and because it may have padding
 at the end of the line.)</p>

<p> HDR expects linear float data. Since the format is always 32-bit <a href="https://en.wikipedia.org/wiki/RGBE_image_format">rgb(e)</a>
 data, alpha (if provided) is discarded, and for monochrome data it is
 replicated across all three channels.</p>

<p> TGAs are written with RLE compression. (This could be made optional down the road.)</p>

<hr/>

<p> <strong>From stb's project page:</strong></p>

<p> This software is dual-licensed to the public domain and under the following
 license: you are granted a perpetual, irrevocable license to copy, modify,
 publish, and distribute this file as you see fit.</p>

<p> Jon Olick's GIF and MPEG writers are likewise public domain.</p>

<hr/>
</p>



    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "bmp"></a>
    <strong>bmp (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Save an image as a <strong>BMP</strong> file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel.
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         The image data, cf. the summary above.</p>

<p> If <em>data</em> is insufficient, it will be padded with <code>0</code> bytes.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Currently unused.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "bmp_to_memory"></a>
    <strong>bmp_to_memory (w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#bmp">bmp</a> that saves the image as a stream of bytes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel.
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#bmp">bmp</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Write options. Currently, only <strong>as_userdata</strong> is available, cf. the
 note for the return value. (Support for <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/MemoryBlob/api.html">blobs</a>
 is planned and would be exposed via <em>opts</em>.)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
         On success, data encoded as a <strong>BMP</strong>, byte-compatible with the contents of
 an undecoded file. This can be reloaded via <a href="../modules/image.html#load_from_memory">image.load_from_memory</a>.</p>

<p> If <em>opts.as_userdata</em> was true, the data is returned as a userdata that implements <strong>ByteReader</strong>,
 rather than being converted to a more friendly string. Under some circumstances, this might be worth
 doing for performance reasons.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "gif"></a>
    <strong>gif (filename[, baseDir=system.DocumentsDirectory], w, h, frames, opts)</strong>
    </dt>
    <dd>
    Saves a series of images as a GIF.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of each frame, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">frames</span>
            <span class="types"><a class="type" href="../modules/image.html#GifFrame">{image.GifFrame,...}</a></span>
         GIF frames, with image data in RGBA form.</p>

<p> If a given frame's <strong>image</strong> is insufficient, it will be padded with <code>0</code> bytes. An absent <strong>delay</strong>
 (or one with value 0) indicates that the frame has no delay.</p>

<p> A <strong>has_local_palette</strong> field may also be added to a given frame. If true, the frame will have
 its own palette and use that in lieu of the GIF-wide one.</p>

<p> Alternatively, the array may contain <strong>Bytes</strong> entries. These are interpreted like frames with
 said bytes as their <strong>image</strong> field, without delay or local palette.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>

<p> Save options, which include:</p>

<ul>
    <li><strong>repeat</strong>: Number of times the animation should repeat. By default, 0 (repeat forever).</li>
    <li><strong>palette_depth</strong>: Palette depth <em>d</em>, from 1 to 8 (the default); the palette will have 2<sup>d</sup> - 1 colors.</li>
</ul>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "gif_to_memory"></a>
    <strong>gif_to_memory (w, h, frames, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#gif">gif</a> that saves the images as a stream of bytes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of each frame, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">frames</span>
            <span class="types"><a class="type" href="../modules/image.html#GifFrame">{image.GifFrame,...}</a></span>
         As per <a href="../modules/write.html#gif">gif</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/write.html#gif">gif</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
         On success, data encoded as a <strong>GIF</strong>, byte-compatible with the contents of
 an undecoded file. This can be reloaded via <a href="../modules/image.html#xload_from_memory">image.xload_from_memory</a>. (At the moment,
 this is always a string.)
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "hdr"></a>
    <strong>hdr (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Saves an image as a Radiance RGBE HDR file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel.
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#bmp">bmp</a>, with the caveat that the memory consist of single-precision
 floats, rather than bytes, per component.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Currently unused.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "hdr_to_memory"></a>
    <strong>hdr_to_memory (w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#hdr">hdr</a> that saves the image as a stream of bytes. </p>

<p> This can be reloaded via <a href="../modules/image.html#loadf_from_memory">image.loadf_from_memory</a>.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#hdr">hdr</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
        On success, as per <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a>, but in <strong>HDR</strong> form.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "mpeg"></a>
    <strong>mpeg (filename[, baseDir=system.DocumentsDirectory], w, h, frames, opts)</strong>
    </dt>
    <dd>
    Saves a series of images as an MPEG.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of each frame, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">frames</span>
            <span class="types"><span class="type">{Bytes,...}</span></span>
         MPEG frames, in RGBA form. If a given frame is insufficient, it will be padded
 with <code>0</code> bytes.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Save options.</p>

<p> Currently, only <strong>fps</strong> is available, which sets the video's frames-per-second rate (default 30).
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "mpeg_to_memory"></a>
    <strong>mpeg_to_memory (w, h, frames, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#mpeg">mpeg</a> that saves the images as a stream of bytes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of each frame, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">frames</span>
            <span class="types"><span class="type">{Bytes,...}</span></span>
         As per <a href="../modules/write.html#mpeg">mpeg</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/write.html#mpeg">mpeg</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
        On success, data encoded as an <strong>MPEG</strong>, byte-compatible with the contents of
 an undecoded file. (At the moment, this is always a string.)
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "png"></a>
    <strong>png (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Saves an image as a PNG file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#bmp">bmp</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Write options.</p>

<p> Currently, only <strong>stride</strong> is available. If present (and non-0), this will be the stride in bytes, as
 described in the summary above.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "png_to_memory"></a>
    <strong>png_to_memory (w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#png">png</a> that saves the image as a stream of bytes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#png">png</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per the combined choices in <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a> and <a href="../modules/write.html#png">png</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
        On success, as per <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a>, but in <strong>PNG</strong> form.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "tga"></a>
    <strong>tga (filename[, baseDir=system.DocumentsDirectory], w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Saves an image as a Truevision TGA file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">filename</span>
            <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         Name of file.
        </li>
        <li><span class="parameter">baseDir</span>
         Directory to which the file will be added, as per
 <a href="https://docs.coronalabs.com/api/library/system/pathForFile.html">system.pathForFile</a>.
         (<em>default</em> system.DocumentsDirectory)
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#bmp">bmp</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Currently unused.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        <strong>true</strong>, indicating success.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>false</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "tga_to_memory"></a>
    <strong>tga_to_memory (w, h, comp, data, opts)</strong>
    </dt>
    <dd>
    Variant of <a href="../modules/write.html#tga">tga</a> that saves the image as a stream of bytes.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>
         Width of <em>data</em>, in pixels...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>
         ...and height.
        </li>
        <li><span class="parameter">comp</span>
            <span class="types"><span class="type">uint</span></span>
         Number of components per pixel
        </li>
        <li><span class="parameter">data</span>
            <span class="types"><span class="type">Bytes</span></span>
         As per <a href="../modules/write.html#tga">tga</a>.
        </li>
        <li><span class="parameter">opts</span>
            <span class="types">optional <a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         As per <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a>.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Bytes</span></span>
        On success, as per <a href="../modules/write.html#bmp_to_memory">bmp_to_memory</a>, but in <strong>TGA</strong> form.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        <strong>nil</strong>, meaning failure.</li>
        <li>
           <span class="types"><a class="type" href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        Error message.</li>
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2018-07-24 18:04:07 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
