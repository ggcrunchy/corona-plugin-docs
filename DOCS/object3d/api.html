<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>object3d</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>object3d</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>object3d</code></h1>
<p>Basic utility for rendering a batch of 3-D polygons (an "object") to a texture, say for use in fills.</p>
<p>


<p> To use the plugin, add the following in <code>build.settings</code>:</p>

<p> <pre><code class="language-lua">plugins = {
   ["plugin.object3d"] = { publisherId = "com.xibalbastudios" },
   ["plugin.MemoryBlob"] = { publisherId = "com.xibalbastudios" }
 }</code></pre></p>

<p> As shown, the (free) <a href="https://marketplace.coronalabs.com/corona-plugins/memory-blob">MemoryBlob</a> is also a dependency.
 While not strictly necessary, the (also free) <a href="https://marketplace.coronalabs.com/corona-plugins/byte-map">Bytemap</a>
 plugin is the recommended way to provide the texture to display objects.</p>

<p> Sample code is available <a href="https://github.com/ggcrunchy/corona-plugin-docs/tree/master/object3d_sample">here</a>.</p>

<p> The <strong>Bytes</strong> type&mdash;specified in a few of the bytemap methods&mdash;may be any object that implements <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/ByteReader/policy.html">ByteReader</a>,
 including strings.</p>

<p> The current implementation is a veneer over a somewhat customized <strong>tinyrenderer</strong>.</p>

<p> <strong>From tinyrenderer's project page:</strong></p>

<p> Tiny Renderer, <a href="https://github.com/ssloy/tinyrenderer">https://github.com/ssloy/tinyrenderer</a>
 Copyright Dmitry V. Sokolov</p>

<p> This software is provided 'as-is', without any express or implied warranty.
 In no event will the authors be held liable for any damages arising from the use of this software.
 Permission is granted to anyone to use this software for any purpose,
 including commercial applications, and to alter it and redistribute it freely,
 subject to the following restrictions:</p>

<ol>
    <li>The origin of this software must not be misrepresented; you must not claim that you wrote the original software. If you use this software in a product, an acknowledgment in the product documentation would be appreciated but is not required.</li>
    <li>Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</li>
    <li>This notice may not be removed or altered from any source distribution.</li>
</ol>
</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#New">New (w, h, has_alpha)</a></td>
	<td class="summary">Create a new <strong>Object3d</strong>.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:AddFace">Object3d:AddFace (...)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:AddNormal">Object3d:AddNormal (x, y, z)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:AddUV">Object3d:AddUV (u, v)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:AddVertex">Object3d:AddVertex (x, y, z)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:Clear">Object3d:Clear ()</a></td>
	<td class="summary">Wipe the texture (to black or clear) and z-buffer.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:GetBlob">Object3d:GetBlob ()</a></td>
	<td class="summary">Get the underlying (fixed-size) <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/MemoryBlob/api.html">memory blob</a>, e.g.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:GetBytes">Object3d:GetBytes ()</a></td>
	<td class="summary">Copy the current texture contents to a string.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:GetColor">Object3d:GetColor (px, py, pz, qx, qy, qz)</a></td>
	<td class="summary">Attempt to intersect a segment with a face and get the color where it hits.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:GetFaceVertexIndices">Object3d:GetFaceVertexIndices (index)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:GetVertex">Object3d:GetVertex (index)</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:__len">Object3d:__len ()</a></td>
	<td class="summary">Metamethod.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:Render">Object3d:Render ()</a></td>
	<td class="summary">Render the current scene, clearing the previous contents first.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetCenter">Object3d:SetCenter (Center)</a></td>
	<td class="summary">Set the center position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetDiffuse">Object3d:SetDiffuse (how, w, h[, comps=3])</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetEye">Object3d:SetEye (Eye)</a></td>
	<td class="summary">Set the eye position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetLightDir">Object3d:SetLightDir (Direction)</a></td>
	<td class="summary">Set the light direction.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetNormalMap">Object3d:SetNormalMap (bytes, w, h[, comps=3])</a></td>
	<td class="summary">DOCME</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Object3d:SetUp">Object3d:SetUp (Vector)</a></td>
	<td class="summary">Set the up vector.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "New"></a>
    <strong>New (w, h, has_alpha)</strong>
    </dt>
    <dd>
    Create a new <strong>Object3d</strong>. </p>

<p> SURFACES: TEXTURE, Z-BUFFER
 CAMERA: EYE, LIGHT DIR, LOOK AT, UP
 SCENE: VERTEX, NORMAL, UV STREAMS

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">int</span></span>
         Texture width...
        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">int</span></span>
         ...and height.
        </li>
        <li><span class="parameter">has_alpha</span>
            <span class="types"><span class="type">bool</span></span>
         Include an alpha channel? (Unnecessary if the background will be filled.)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">Object3d</span> or <span class="type">nil</span></span>
        Object interface, or <strong>nil</strong> on error.
    </ol>




</dd>
    <dt>
    <a name = "Object3d:AddFace"></a>
    <strong>Object3d:AddFace (...)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         int triples Indices
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:AddNormal"></a>
    <strong>Object3d:AddNormal (x, y, z)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>



        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>



        </li>
        <li><span class="parameter">z</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:AddUV"></a>
    <strong>Object3d:AddUV (u, v)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">u</span>
            <span class="types"><span class="type">number</span></span>



        </li>
        <li><span class="parameter">v</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:AddVertex"></a>
    <strong>Object3d:AddVertex (x, y, z)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
            <span class="types"><span class="type">number</span></span>



        </li>
        <li><span class="parameter">y</span>
            <span class="types"><span class="type">number</span></span>



        </li>
        <li><span class="parameter">z</span>
            <span class="types"><span class="type">number</span></span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:Clear"></a>
    <strong>Object3d:Clear ()</strong>
    </dt>
    <dd>
    Wipe the texture (to black or clear) and z-buffer.






</dd>
    <dt>
    <a name = "Object3d:GetBlob"></a>
    <strong>Object3d:GetBlob ()</strong>
    </dt>
    <dd>
    Get the underlying (fixed-size) <a href="https://ggcrunchy.github.io/corona-plugin-docs/DOCS/MemoryBlob/api.html">memory blob</a>, e.g.
 to perform blob-specific operations on it.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">MemoryBlob</span></span>
        Blob.
    </ol>




</dd>
    <dt>
    <a name = "Object3d:GetBytes"></a>
    <strong>Object3d:GetBytes ()</strong>
    </dt>
    <dd>
    Copy the current texture contents to a string.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
        A string of size <code>w * h * ncomps</code>, where <em>w</em> and <em>h</em> were supplied to <a href="api.html#New">New</a> and <em>ncomps</em> is
 3 or 4, the latter when <em>has_alpha</em> was supplied.
    </ol>




</dd>
    <dt>
    <a name = "Object3d:GetColor"></a>
    <strong>Object3d:GetColor (px, py, pz, qx, qy, qz)</strong>
    </dt>
    <dd>
    Attempt to intersect a segment with a face and get the color where it hits.

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">px</span>
            <span class="types"><span class="type">number</span></span>
         First endpoint of segment, x-coordinate...
        </li>
        <li><span class="parameter">py</span>
            <span class="types"><span class="type">number</span></span>
         ...y...
        </li>
        <li><span class="parameter">pz</span>
            <span class="types"><span class="type">number</span></span>
         ...and z.
        </li>
        <li><span class="parameter">qx</span>
            <span class="types"><span class="type">number</span></span>
         Second endpoint, x-coordinate...
        </li>
        <li><span class="parameter">qy</span>
            <span class="types"><span class="type">number</span></span>
         ...y...
        </li>
        <li><span class="parameter">qz</span>
            <span class="types"><span class="type">number</span></span>
         ...and z.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">r</span></span>
        Red component at hit...</li>
        <li>
           <span class="types"><span class="type">g</span></span>
        ...green component...</li>
        <li>
           <span class="types"><span class="type">b</span></span>
        ...red component...</li>
        <li>
           <span class="types"><span class="type">a</span></span>
        ...and alpha component. (Only returned if this channel exists. TODO: diffuse, normal, etc.)</li>
    </ol>
     <h3>Or</h3>
    <ol>

        <strong>nil</strong>, meaning the segment never intersected the face.
    </ol>




</dd>
    <dt>
    <a name = "Object3d:GetFaceVertexIndices"></a>
    <strong>Object3d:GetFaceVertexIndices (index)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        ... face indices
    </ol>




</dd>
    <dt>
    <a name = "Object3d:GetVertex"></a>
    <strong>Object3d:GetVertex (index)</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
           <span class="types"><span class="type">number</span></span>
        Vertex x-coordinate...</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        ...y...</li>
        <li>
           <span class="types"><span class="type">number</span></span>
        ...and z.</li>
    </ol>




</dd>
    <dt>
    <a name = "Object3d:__len"></a>
    <strong>Object3d:__len ()</strong>
    </dt>
    <dd>
    Metamethod.


    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">uint</span></span>
        Face count.
    </ol>




</dd>
    <dt>
    <a name = "Object3d:Render"></a>
    <strong>Object3d:Render ()</strong>
    </dt>
    <dd>
    Render the current scene, clearing the previous contents first.




    <h3>See also:</h3>
    <ul>
         <a href="api.html#Object3d:Clear">Object3d:Clear</a>
    </ul>


</dd>
    <dt>
    <a name = "Object3d:SetCenter"></a>
    <strong>Object3d:SetCenter (Center)</strong>
    </dt>
    <dd>
    Set the center position.  (TODO: lookat)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">Center</span>
            <span class="types"><span class="type">number</span></span>
         x-coordinate...
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:SetDiffuse"></a>
    <strong>Object3d:SetDiffuse (how, w, h[, comps=3])</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">how</span>
            <span class="types"><span class="type">Bytes</span> or <span class="type">nil</span></span>
         "uvs", bytes, or nil to clear
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
        <li><span class="parameter">comps</span>
            <span class="types"><span class="type">uint</span></span>



         (<em>default</em> 3)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:SetEye"></a>
    <strong>Object3d:SetEye (Eye)</strong>
    </dt>
    <dd>
    Set the eye position.  (TODO: lookat)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">Eye</span>
            <span class="types"><span class="type">number</span></span>
         x-coordinate...
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:SetLightDir"></a>
    <strong>Object3d:SetLightDir (Direction)</strong>
    </dt>
    <dd>
    Set the light direction.  (TODO: normal)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">Direction</span>
            <span class="types"><span class="type">number</span></span>
        's x-component...
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:SetNormalMap"></a>
    <strong>Object3d:SetNormalMap (bytes, w, h[, comps=3])</strong>
    </dt>
    <dd>
    DOCME

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">bytes</span>
            <span class="types"><span class="type">Bytes</span> or <span class="type">nil</span></span>
         or nil to clear
        </li>
        <li><span class="parameter">w</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
        <li><span class="parameter">h</span>
            <span class="types"><span class="type">uint</span></span>



        </li>
        <li><span class="parameter">comps</span>
            <span class="types"><span class="type">uint</span></span>



         (<em>default</em> 3)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "Object3d:SetUp"></a>
    <strong>Object3d:SetUp (Vector)</strong>
    </dt>
    <dd>
    Set the up vector.  (TODO: lookat)

    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">Vector</span>
            <span class="types"><span class="type">number</span></span>
        's x-component...
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.0</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
